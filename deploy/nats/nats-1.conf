server_name: "synaptic-nats-1"
port: 4222
http_port: 8222
logtime: true
log_file: "/var/log/nats/nats-server.log"
log_size_limit: "100MB"
max_traced_msg_len: 32768
max_connections: 10000
max_control_line: 4096
max_payload: "8MB"
max_pending: "256MB"
write_deadline: "10s"
jetstream {
  max_memory_store: "2GB"
  max_file_store: "50GB"
  store_dir: "/data/jetstream"
  sync_interval: "2m"
  sync_always: false
  domain: "synaptic"
}
cluster {
  name: "synaptic-cluster"
  listen: "0.0.0.0:6222"
  routes: ["nats://nats-0:6222", "nats://nats-2:6222"]
}
gateway {
  name: "synaptic-gateway"
  listen: "0.0.0.0:7222"
  gateways: [name: "primary"
urls: ["nats://nats-0:7222", "nats://nats-1:7222", "nats://nats-2:7222"]]
}
authorization {
  users: [user: "consciousness"
password: $CONSCIOUSNESS_PASSWORD
permissions {
  publish: ["consciousness.>", "system.>"]
  subscribe: ["consciousness.>", "system.>", "security.>"]
}, user: "security"
password: $SECURITY_PASSWORD
permissions {
  publish: ["security.>", "system.>"]
  subscribe: ["security.>", "consciousness.>", "system.>"]
}, user: "orchestrator"
password: $ORCHESTRATOR_PASSWORD
permissions {
  publish: ["orchestrator.>", "system.>"]
  subscribe: [">", "_INBOX.>"]
}]
}
tls {
  cert_file: "/certs/server-cert.pem"
  key_file: "/certs/server-key.pem"
  ca_file: "/certs/ca.pem"
  verify: true
  timeout: 5
}
system_account: "SYS"
accounts {
  SYS {
    users: [user: "admin"
password: $ADMIN_PASSWORD]
  }
}